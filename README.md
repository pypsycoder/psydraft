# Шаблон амбулаторной консультации психиатра

Интерактивный HTML-инструмент для подготовки психиатрического приёма: собирает жалобы, анамнез, психический статус, диагноз по МКБ-10, рекомендации и назначения, формируя итоговый текст заключения. Проект работает офлайн и запускается прямо из браузера без серверных зависимостей.

## Структура каталогов

```
psydraft/
├── frontend/
│   └── psychstatus/
│       ├── build.py                     # Скрипт сборки шаблона через вложения <!-- INCLUDE ... -->
│       ├── dist/
│       │   └── psychstatus.html         # Скомпилированная версия интерфейса
│       └── src/
│           ├── index.template.html      # Главный шаблон страницы
│           ├── css/                     # Базовые стили и компонентные файлы
│           ├── icons/                   # SVG-иконки
│           ├── js/                      # Логика состояния, отчёта и UI
│           ├── layout/                  # Общие блоки: head, header, sidebar, footer, модальные окна
│           ├── partials/                # Повторно используемые элементы (кнопки, заголовки секций)
│           └── sections/                # Формы для общих данных, психстатуса, диагнозов, рекомендаций и результатов
├── Radme.md                             # Предыдущая версия README (оставлена для истории)
├── backup2_шаблон консультации психиатра2.html
└── шаблон консультации психиатра.html   # Статичный HTML-шаблон консультации
```

## Как собрать

1. Убедитесь, что установлен Python 3.
2. Выполните из корня репозитория:
   ```bash
   python frontend/psychstatus/build.py
   ```
3. Открывайте сгенерированный файл `frontend/psychstatus/dist/psychstatus.html` в браузере.

Скрипт `build.py` разворачивает директивы `<!-- INCLUDE ... -->` в `index.template.html`, подставляя куски разметки, стили и скрипты из каталога `src/`.

## Использование

* Откройте `frontend/psychstatus/dist/psychstatus.html` или любой из готовых HTML-шаблонов в корне (`шаблон консультации психиатра.html`, `backup2_шаблон консультации психиатра2.html`).
* Заполните блоки жалоб, анамнеза, психстатуса, диагнозов, рекомендаций и назначений.
* Скопируйте автоматически собранное заключение в историю болезни или отчёт.

## Основные элементы интерфейса

* **Психстатус** — разделён на подсекции (сознание, контакт, мышление, настроение и др.) с выпадающими списками, чекбоксами и свободными полями.
* **Диагноз (МКБ-10)** — поиск и выбор кодов, которые добавляются к итоговому тексту.
* **Рекомендации и назначения** — структурированные формы с кнопками добавления и настройкой схем приёма.
* **Результат** — панель с готовым текстом, который можно копировать.

## Разработка и расширение

* Вся логика разделена на модули в `frontend/psychstatus/src/js/`:
  * `state/` — схема данных, значения по умолчанию, работа с локальным хранилищем.
  * `ui/` — обработчики элементов интерфейса (навигация, мультивыбор, поиск МКБ-10, идеи и подсказки, управление назначениями).
  * `report/` — генерация и форматирование итогового текста.
  * `utils/` — вспомогательные функции для DOM и работы с текстом.
* Разметка секций и повторяемых компонентов хранится в `sections/`, `layout/` и `partials/`, что облегчает доработку отдельных блоков.
* Для обновления дизайна правьте стили в `css/` или подключайте новые темы.

## Лицензия и авторство

Авторский шаблон для личного использования. Добавляйте свой файл LICENSE при необходимости.
